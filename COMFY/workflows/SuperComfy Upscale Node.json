{"id":"617fbe0b-4b4f-4203-b5a0-e72bf8e2595b","revision":0,"last_node_id":37,"last_link_id":51,"nodes":[{"id":5,"type":"ControlNetLoader","pos":[387.1088934613229,221.9116311013008],"size":[414.8910178558484,58.89539745162034],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"ControlNetLoader"},"widgets_values":["utils/tiled-controlnet-sdxl.safetensors"]},{"id":4,"type":"LoraLoaderModelOnly","pos":[386.6809571608024,106.5618834403492],"size":[413.15073643853225,82],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":3},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[4]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["lora/speed/sdxl_lightning_8step_lora.safetensors",1]},{"id":7,"type":"DownloadAndLoadFlorence2Model","pos":[385.5568422306466,318.85118368342387],"size":[415.93854009348263,130],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"convert_to_safetensors","name":"convert_to_safetensors","shape":7,"type":"BOOLEAN","widget":{"name":"convert_to_safetensors"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[10]}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.6","Node name for S&R":"DownloadAndLoadFlorence2Model"},"widgets_values":["MiaoshouAI/Florence-2-large-PromptGen-v2.0","bf16","sdpa",true]},{"id":8,"type":"PreviewImage","pos":[1147.2542497814352,-21.478417371741994],"size":[653.0042988929433,940.9109698362081],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":44}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":2,"type":"CheckpointLoaderSimple","pos":[387.55693416557875,-24.955905342648354],"size":[413.1923321305402,98],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[3]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[5]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[6]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["ckpt/cyberrealisticXL_v80.safetensors"]},{"id":36,"type":"Basic data handling: MathFormula","pos":[660,970],"size":[210,98],"flags":{"collapsed":true},"order":11,"mode":0,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"FLOAT,INT","link":49},{"name":"b","shape":7,"type":"FLOAT,INT","link":50},{"name":"c","shape":7,"type":"FLOAT,INT","link":null},{"localized_name":"formula","name":"formula","type":"STRING","widget":{"name":"formula"},"link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[51]}],"properties":{"cnr_id":"basic_data_handling","ver":"1.0.0","Node name for S&R":"Basic data handling: MathFormula"},"widgets_values":["(a*b)/1024**2"]},{"id":35,"type":"GetImageSize","pos":[510,970],"size":[140,124],"flags":{"collapsed":true},"order":9,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":48}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[49]},{"localized_name":"height","name":"height","type":"INT","links":[50]},{"localized_name":"batch_size","name":"batch_size","type":"INT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"GetImageSize"},"widgets_values":["width: 1440, height: 1796\n batch size: 1"]},{"id":37,"type":"PreviewAny","pos":[530,1010],"size":[220,88],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":51}],"outputs":[],"title":"Current Input Megapixels","properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":34,"type":"Note","pos":[0,750],"size":[380,220],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"title":"Tip for better consistency","properties":{},"widgets_values":["Refeed this image by copying the clipspace and pasting into the load image if you want a sharper (increase skip steps) or higher size (set 2x)!\n\nDon't forget to change the seed :P\nSometimes the blended image is the best quality version...Sometimes the aspect ratio is sightly off if you notice some smearing."],"color":"#432","bgcolor":"#653"},{"id":32,"type":"ImageBlend","pos":[260,1010],"size":[220,102],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"image1","name":"image1","type":"IMAGE","link":45},{"localized_name":"image2","name":"image2","type":"IMAGE","link":46},{"localized_name":"blend_factor","name":"blend_factor","type":"FLOAT","widget":{"name":"blend_factor"},"link":null},{"localized_name":"blend_mode","name":"blend_mode","type":"COMBO","widget":{"name":"blend_mode"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[47]}],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"ImageBlend"},"widgets_values":[0.5,"normal"]},{"id":33,"type":"PreviewImage","pos":[0,1010],"size":[250,260],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":47}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":1,"type":"19eda159-8784-4759-9cbc-27543cc846fd","pos":[808.1305808934696,-23.140752656756224],"size":[331.72608912279384,915.7260891227938],"flags":{},"order":10,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":4},{"name":"control_net","type":"CONTROL_NET","link":7},{"name":"vae","type":"VAE","link":6},{"label":"base_image","name":"image","type":"IMAGE","link":17},{"name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"name":"megapixels","type":"FLOAT","widget":{"name":"megapixels"},"link":36},{"label":"model_res","name":"value","type":"INT","widget":{"name":"value"},"link":null},{"label":"tile_overlap","name":"value_1","type":"FLOAT","widget":{"name":"value_1"},"link":null},{"name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"label":"skip_steps","name":"step","type":"INT","widget":{"name":"step"},"link":null},{"name":"florence2_model","type":"FL2MODEL","link":10},{"label":"florence_tokens","name":"max_new_tokens","type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"label":"florence_beams","name":"num_beams","type":"INT","widget":{"name":"num_beams"},"link":null},{"label":"florence_seed","name":"seed_1","type":"INT","widget":{"name":"seed_1"},"link":null},{"name":"clip","type":"CLIP","link":5},{"label":"toggle_florence","name":"boolean","type":"BOOLEAN","widget":{"name":"boolean"},"link":null},{"label":"additional_prompt","name":"value_2","type":"STRING","widget":{"name":"value_2"},"link":null},{"label":"color_match_method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"label":"caption_type","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":null},{"label":"sharpen_sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":null}],"outputs":[{"label":"image","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[44,45]}],"properties":{"proxyWidgets":[["-1","sampler_name"],["-1","scheduler"],["-1","strength"],["-1","megapixels"],["-1","value"],["-1","value_1"],["-1","steps"],["-1","step"],["-1","task"],["-1","max_new_tokens"],["-1","num_beams"],["-1","seed_1"],["-1","boolean"],["-1","value_2"],["-1","method"],["-1","blur_radius"],["-1","sigma"],["187","noise_seed"],["187","control_after_generate"],["-1","vhslatentpreview"]],"cnr_id":"comfy-core","ver":"0.3.50","ue_properties":{"version":"7.4.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["euler_ancestral","simple",0.5,13.74,1024,0.1,8,2,"prompt_gen_tags",32,4,1,false,"","wavelet",2,1]},{"id":28,"type":"PrimitiveFloat","pos":[390,850],"size":[410,58],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[36]}],"title":"Upscale to Megapixels (Approx)","properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"PrimitiveFloat"},"widgets_values":[16]},{"id":6,"type":"LoadImage","pos":[386.58568983444917,483.41459358920366],"size":[410.76495389345035,326.15291265753956],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[17,46,48]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"LoadImage"},"widgets_values":["example.png","image"]},{"id":12,"type":"MarkdownNote","pos":[0,-20],"size":[380,270],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"title":"Node v0.22","properties":{},"widgets_values":["### Model Links:\n- ControlNet Model - [xinsir/controlnet-tile-sdxl-1.0](https://huggingface.co/xinsir/controlnet-tile-sdxl-1.0/resolve/main/diffusion_pytorch_model.safetensors)\n\n- Any SDXL Checkpoint - [Cyber Realistic XL](https://civitai.com/models/312530/cyberrealistic-xl?modelVersionId=2391289)\n\n- 8 Step LoRA - [ByteDance/SDXL-Lightning](https://huggingface.co/ByteDance/SDXL-Lightning/resolve/main/sdxl_lightning_8step_lora.safetensors)\n\n**Built on ComfyUI v0.4.0**\n\nNeed help? **[Discord](https://discord.gg/hq8qPbvznf)**\n\nKnown Issues:\n* Slight aspect ratio change\n* Smearing on dark photos"],"color":"#432","bgcolor":"#653"},{"id":14,"type":"Note","pos":[0,290],"size":[380,420],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"title":"Defaults","properties":{},"widgets_values":["sampler - euler a\nscheduler - simple\nstrength - 0.5\nmodel_res - 1024 - 2048\nmegapixels - 4-64 >64 lags color match\n~4-8x increase best, so 1mp [start] > 4mp-8mp > 32mp, higher not rec.\ntile_overlap - 0.1-1.0 (2x gen time)\nskip_steps - 0-3\nblur_radius - 2-4 (1 for small input)\nsharpen_sigma - 0.25-1.00+\n\nif you see blocky texture you are upscaling too much (lower mp)\n\nif you see artifacts increase blur to 4, if its too blurry set to 1 and refeed\n\nturn on florence for high mp count (16mp+)"],"color":"#432","bgcolor":"#653"}],"links":[[3,2,0,4,0,"MODEL"],[4,4,0,1,0,"MODEL"],[5,2,1,1,16,"CLIP"],[6,2,2,1,2,"VAE"],[7,5,0,1,1,"CONTROL_NET"],[10,7,0,1,12,"FL2MODEL"],[17,6,0,1,3,"IMAGE"],[36,28,0,1,7,"FLOAT"],[44,1,0,8,0,"IMAGE"],[45,1,0,32,0,"IMAGE"],[46,6,0,32,1,"IMAGE"],[47,32,0,33,0,"IMAGE"],[48,6,0,35,0,"IMAGE"],[49,35,0,36,0,"FLOAT,INT"],[50,35,1,36,1,"FLOAT,INT"],[51,36,0,37,0,"*"]],"groups":[],"definitions":{"subgraphs":[{"id":"19eda159-8784-4759-9cbc-27543cc846fd","version":1,"state":{"lastGroupId":0,"lastNodeId":255,"lastLinkId":696,"lastRerouteId":0},"revision":0,"config":{},"name":"SDXL ControlNet Tiled Sampler","inputNode":{"id":-10,"bounding":[616,-120,152,500]},"outputNode":{"id":-20,"bounding":[5320,320,120,60]},"inputs":[{"id":"7c584d7e-a613-4ede-89ad-7aeef785a2c3","name":"model","type":"MODEL","linkIds":[404,495,496,586,597,601,602,627],"pos":[748,-100]},{"id":"0aeffc2f-609f-4c61-a9de-b2cfee0d2aab","name":"control_net","type":"CONTROL_NET","linkIds":[407],"pos":[748,-80]},{"id":"cbce09f5-eedd-4d16-8791-c352b23d57a8","name":"vae","type":"VAE","linkIds":[408,409,507],"pos":[748,-60]},{"id":"8092e5aa-d381-4bbd-b8da-ccebf2e1e91a","name":"image","type":"IMAGE","linkIds":[456],"label":"base_image","pos":[748,-40]},{"id":"f8326dbd-f8d4-4593-a700-d7856cc2ecd1","name":"sampler_name","type":"COMBO","linkIds":[463,511],"pos":[748,-20]},{"id":"26e99390-bdb3-40bb-b3f1-61ed8db4c385","name":"scheduler","type":"COMBO","linkIds":[464,512],"pos":[748,0]},{"id":"6f78ef34-1173-4999-bd46-72d32ec2b7b7","name":"strength","type":"FLOAT","linkIds":[465],"pos":[748,20]},{"id":"cba38b7e-e0fd-4722-bf40-6c7172e83805","name":"megapixels","type":"FLOAT","linkIds":[468],"pos":[748,40]},{"id":"b1943fe1-7f67-4d9d-b227-aa63e7edc5d9","name":"value","type":"INT","linkIds":[473],"label":"model_res","pos":[748,60]},{"id":"c89b7b84-92e6-4e90-a7a5-85fee13df1b6","name":"value_1","type":"FLOAT","linkIds":[624,647,695],"label":"tile_overlap","pos":[748,80]},{"id":"0e9afcfb-033d-4c56-908a-fd20c9729610","name":"steps","type":"INT","linkIds":[518],"pos":[748,100]},{"id":"a3291c48-a241-42a3-8ed5-c23213b718cf","name":"step","type":"INT","linkIds":[519],"label":"skip_steps","pos":[748,120]},{"id":"a3ad374c-067a-44b0-a99e-4b643b3ef0e8","name":"florence2_model","type":"FL2MODEL","linkIds":[539],"pos":[748,140]},{"id":"90582eb7-b077-4e13-999f-e3a306387b42","name":"max_new_tokens","type":"INT","linkIds":[541],"label":"florence_tokens","pos":[748,160]},{"id":"596df30c-c46a-4dd5-80d1-cd83ef5c29cf","name":"num_beams","type":"INT","linkIds":[542],"label":"florence_beams","pos":[748,180]},{"id":"25844f31-1446-417d-bf56-c78a2c878575","name":"seed_1","type":"INT","linkIds":[543],"label":"florence_seed","pos":[748,200]},{"id":"32c6d0ee-9bd2-42f2-9c8b-bfe18c85904f","name":"clip","type":"CLIP","linkIds":[544],"pos":[748,220]},{"id":"782488ec-96c9-4f70-ab63-bb58f52a38cf","name":"boolean","type":"BOOLEAN","linkIds":[547],"label":"toggle_florence","pos":[748,240]},{"id":"852803ee-e088-4aaf-bda0-1517634c236f","name":"value_2","type":"STRING","linkIds":[551],"label":"additional_prompt","pos":[748,260]},{"id":"64b07e99-67c1-4f7f-bd1b-838ec8e7e595","name":"method","type":"COMBO","linkIds":[579],"label":"color_match_method","pos":[748,280]},{"id":"dac6cd87-5bdf-4e98-a148-c839b3abd957","name":"task","type":"COMBO","linkIds":[605],"label":"caption_type","pos":[748,300]},{"id":"64cb0e84-0f82-4167-a97a-050886b51e87","name":"blur_radius","type":"INT","linkIds":[673,677],"pos":[748,320]},{"id":"8de3fc9f-262c-4d4f-a127-8000704fd6a7","name":"sigma","type":"FLOAT","linkIds":[691],"label":"sharpen_sigma","pos":[748,340]}],"outputs":[{"id":"d078aa5c-574a-4f09-baa0-0b9aec792201","name":"IMAGE","type":"IMAGE","linkIds":[692],"localized_name":"IMAGE","label":"image","pos":[5340,340]}],"widgets":[],"nodes":[{"id":191,"type":"KSamplerSelect","pos":[4040,130],"size":[210,58],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":511}],"outputs":[{"localized_name":"SAMPLER","name":"SAMPLER","type":"SAMPLER","links":[510]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"KSamplerSelect"},"widgets_values":["euler_ancestral"]},{"id":223,"type":"BasicGuider","pos":[4070,-60],"size":[155.71875,46],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":602},{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":603}],"outputs":[{"localized_name":"GUIDER","name":"GUIDER","type":"GUIDER","links":[604]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"BasicGuider"},"widgets_values":[]},{"id":186,"type":"SamplerCustomAdvanced","pos":[4310,-140],"size":[202.5337890625,310.5337890625],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"noise","name":"noise","type":"NOISE","link":498},{"localized_name":"guider","name":"guider","type":"GUIDER","link":604},{"localized_name":"sampler","name":"sampler","type":"SAMPLER","link":510},{"localized_name":"sigmas","name":"sigmas","type":"SIGMAS","link":517},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":620}],"outputs":[{"localized_name":"output","name":"output","type":"LATENT","links":[621]},{"localized_name":"denoised_output","name":"denoised_output","type":"LATENT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"SamplerCustomAdvanced"},"widgets_values":[]},{"id":232,"type":"Basic data handling: MathFormula","pos":[1910,1190],"size":[210,78],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"FLOAT,INT","link":633},{"localized_name":"formula","name":"formula","type":"STRING","widget":{"name":"formula"},"link":null},{"name":"b","shape":7,"type":"FLOAT,INT","link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[636]}],"title":"H","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: MathFormula"},"widgets_values":["round(a/16)*16"]},{"id":235,"type":"GetImageSize","pos":[1740,1130],"size":[140,66],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":632}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[634]},{"localized_name":"height","name":"height","type":"INT","links":[633]},{"localized_name":"batch_size","name":"batch_size","type":"INT","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"GetImageSize"},"widgets_values":[]},{"id":167,"type":"INTConstant","pos":[850,810],"size":[200,58],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":473}],"outputs":[{"localized_name":"value","name":"value","type":"INT","links":[639,640]}],"title":"Model Resolution","properties":{"cnr_id":"comfyui-kjnodes","ver":"2f7300dc546ec2d36fa8b0feebe493d41026524c","Node name for S&R":"INTConstant","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":[1024],"color":"#1b4669","bgcolor":"#29699c"},{"id":237,"type":"Basic data handling: MathFormula","pos":[1070,920],"size":[210,78],"flags":{},"order":29,"mode":0,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"FLOAT,INT","link":640},{"localized_name":"formula","name":"formula","type":"STRING","widget":{"name":"formula"},"link":null},{"name":"b","shape":7,"type":"FLOAT,INT","link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[631]}],"title":"rescale tile","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: MathFormula"},"widgets_values":["a**2/1024**2"]},{"id":236,"type":"ImageScaleToTotalPixels","pos":[1520,860],"size":[210,82],"flags":{},"order":28,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":648},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"megapixels","name":"megapixels","type":"FLOAT","widget":{"name":"megapixels"},"link":631}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[632]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"ImageScaleToTotalPixels"},"widgets_values":["lanczos",1]},{"id":182,"type":"RebatchImages","pos":[2290,590],"size":[210,58],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":659},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","shape":6,"type":"IMAGE","links":[658,671]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"RebatchImages","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[1]},{"id":202,"type":"Florence2Run","pos":[2750,70],"size":[400,364],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":572},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":539},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":605},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":541},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":542},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":543}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"caption","name":"caption","type":"STRING","links":[554]},{"localized_name":"data","name":"data","type":"JSON","links":null}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.6","Node name for S&R":"Florence2Run"},"widgets_values":["","prompt_gen_tags",false,true,32,4,true,"",1,"fixed"]},{"id":207,"type":"StringConcatenate","pos":[3170,140],"size":[400,200],"flags":{"collapsed":true},"order":17,"mode":0,"inputs":[{"localized_name":"string_a","name":"string_a","type":"STRING","widget":{"name":"string_a"},"link":570},{"localized_name":"string_b","name":"string_b","type":"STRING","widget":{"name":"string_b"},"link":554},{"localized_name":"delimiter","name":"delimiter","type":"STRING","widget":{"name":"delimiter"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[555]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"StringConcatenate"},"widgets_values":["","",", "]},{"id":204,"type":"easy ifElse","pos":[3320,110],"size":[210,78],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"on_true","name":"on_true","type":"*","link":555},{"localized_name":"on_false","name":"on_false","type":"*","link":550},{"localized_name":"boolean","name":"boolean","type":"BOOLEAN","widget":{"name":"boolean"},"link":547}],"outputs":[{"localized_name":"*","name":"*","type":"*","links":[549,560]}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.4","Node name for S&R":"easy ifElse"},"widgets_values":[false]},{"id":208,"type":"PrimitiveString","pos":[3550,80],"size":[210,58],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":560}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"PrimitiveString"},"widgets_values":[""]},{"id":205,"type":"PrimitiveString","pos":[2520,140],"size":[210,58],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":551}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[550,570]}],"title":"Additional Prompt","properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"PrimitiveString"},"widgets_values":[""]},{"id":193,"type":"SplitSigmas","pos":[4020,-300],"size":[210,78],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"sigmas","name":"sigmas","type":"SIGMAS","link":626},{"localized_name":"step","name":"step","type":"INT","widget":{"name":"step"},"link":519}],"outputs":[{"localized_name":"high_sigmas","name":"high_sigmas","type":"SIGMAS","links":null},{"localized_name":"low_sigmas","name":"low_sigmas","type":"SIGMAS","links":[517]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"SplitSigmas"},"widgets_values":[2]},{"id":192,"type":"BasicScheduler","pos":[3800,-300],"size":[210,106],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":627},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":512},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":518},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"SIGMAS","name":"SIGMAS","type":"SIGMAS","links":[626]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"BasicScheduler"},"widgets_values":["simple",8,1]},{"id":187,"type":"RandomNoise","pos":[3810,-140],"size":[210,82],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"noise_seed","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null}],"outputs":[{"localized_name":"NOISE","name":"NOISE","type":"NOISE","links":[498]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"RandomNoise"},"widgets_values":[766966800218391,"fixed"]},{"id":184,"type":"RebatchImages","pos":[4710,230],"size":[210,58],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":610},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":641}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","shape":6,"type":"IMAGE","links":[612]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"RebatchImages","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[1]},{"id":226,"type":"SuperStitchTiles","pos":[4930,330],"size":[150,46],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"tiles","name":"tiles","type":"IMAGE","link":612},{"localized_name":"stitch_info","name":"stitch_info","type":"STITCH_INFO","link":650}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[613]}],"properties":{"aux_id":"sonnybox/ComfyUI-SuperNodes","ver":"76d10cd044e2733a769e7878baf6893b7edf15f4","Node name for S&R":"SuperStitchTiles"},"widgets_values":[]},{"id":231,"type":"Basic data handling: MathFormula","pos":[1910,1050],"size":[210,78],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"FLOAT,INT","link":634},{"localized_name":"formula","name":"formula","type":"STRING","widget":{"name":"formula"},"link":null},{"name":"b","shape":7,"type":"FLOAT,INT","link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[635]}],"title":"W","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: MathFormula"},"widgets_values":["round(a/16)*16"]},{"id":213,"type":"ImageScaleToTotalPixels","pos":[2510,460],"size":[230,82],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":658},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"megapixels","name":"megapixels","type":"FLOAT","widget":{"name":"megapixels"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[572]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"ImageScaleToTotalPixels"},"widgets_values":["area",0.563]},{"id":244,"type":"Basic data handling: CastToInt","pos":[2740,840],"size":[140,26],"flags":{},"order":34,"mode":0,"inputs":[{"localized_name":"input","name":"input","type":"*","link":677}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[679]}],"properties":{"cnr_id":"basic_data_handling","ver":"1.0.0","Node name for S&R":"Basic data handling: CastToInt"},"widgets_values":[]},{"id":243,"type":"ImageBlur","pos":[2760,550],"size":[210,82],"flags":{},"order":33,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":671},{"localized_name":"blur_radius","name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":673},{"localized_name":"sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[672]}],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"ImageBlur"},"widgets_values":[2,1]},{"id":183,"type":"RebatchImages","pos":[2750,700],"size":[210,58],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":676},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","shape":6,"type":"IMAGE","links":[680]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"RebatchImages","ue_properties":{"widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":[1]},{"id":247,"type":"Basic data handling: IntDivideSafe","pos":[2910,820],"size":[260,106],"flags":{},"order":35,"mode":0,"inputs":[{"localized_name":"int1","name":"int1","type":"INT","widget":{"name":"int1"},"link":679},{"localized_name":"int2","name":"int2","type":"INT","widget":{"name":"int2"},"link":null},{"localized_name":"infinity","name":"infinity","type":"INT","widget":{"name":"infinity"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[681]}],"properties":{"cnr_id":"basic_data_handling","ver":"1.0.0","Node name for S&R":"Basic data handling: IntDivideSafe"},"widgets_values":[1,2,9223372036854776000]},{"id":57,"type":"VAEDecode","pos":[4550,60],"size":[150,46],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":621},{"localized_name":"vae","name":"vae","type":"VAE","link":409}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[610]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.50","Node name for S&R":"VAEDecode","widget_ue_connectable":{}},"widgets_values":[]},{"id":240,"type":"ImageScale","pos":[2290,690],"size":[210,130],"flags":{},"order":32,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":649},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":637},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":638},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[659,676]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"ImageScale"},"widgets_values":["lanczos",512,512,"disabled"]},{"id":251,"type":"ImageScale","pos":[1950,650],"size":[210,130],"flags":{},"order":37,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":684},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":685},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"ImageScale"},"widgets_values":["lanczos",512,512,"disabled"]},{"id":234,"type":"Basic data handling: CastToInt","pos":[2150,1110],"size":[140,26],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"input","name":"input","type":"*","link":635}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[637,684]}],"title":"W","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: CastToInt"},"widgets_values":[]},{"id":233,"type":"Basic data handling: CastToInt","pos":[2150,1210],"size":[140,26],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"input","name":"input","type":"*","link":636}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[638,685]}],"title":"H","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: CastToInt"},"widgets_values":[]},{"id":175,"type":"ImageScaleToTotalPixels","pos":[810,600],"size":[260,82],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":456},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"megapixels","name":"megapixels","type":"FLOAT","widget":{"name":"megapixels"},"link":468}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[642,644,656]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"ImageScaleToTotalPixels","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":["bilinear",13.74]},{"id":248,"type":"ImageBlur","pos":[3260,670],"size":[210,82],"flags":{},"order":36,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":680},{"localized_name":"blur_radius","name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":681},{"localized_name":"sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[689]}],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"ImageBlur"},"widgets_values":[4,1]},{"id":55,"type":"VAEEncode","pos":[4080,30],"size":[140,46],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":690},{"localized_name":"vae","name":"vae","type":"VAE","link":408}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[620]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.50","Node name for S&R":"VAEEncode","widget_ue_connectable":{}},"widgets_values":[]},{"id":214,"type":"easy imageColorMatch","pos":[5090,420],"size":[210,126],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"image_ref","name":"image_ref","type":"IMAGE","link":656},{"localized_name":"image_target","name":"image_target","type":"IMAGE","link":613},{"localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":579},{"localized_name":"image_output","name":"image_output","type":"COMBO","widget":{"name":"image_output"},"link":null},{"localized_name":"save_prefix","name":"save_prefix","type":"STRING","widget":{"name":"save_prefix"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[576,692]}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.3.4","Node name for S&R":"easy imageColorMatch"},"widgets_values":["wavelet","Hide","ComfyUI"]},{"id":253,"type":"ImageSharpen","pos":[3500,670],"size":[210,106],"flags":{},"order":38,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":689},{"localized_name":"sharpen_radius","name":"sharpen_radius","type":"INT","widget":{"name":"sharpen_radius"},"link":null},{"localized_name":"sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":691},{"localized_name":"alpha","name":"alpha","type":"FLOAT","widget":{"name":"alpha"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[690]}],"properties":{"cnr_id":"comfy-core","ver":"0.4.0","Node name for S&R":"ImageSharpen"},"widgets_values":[1,1,1]},{"id":59,"type":"ControlNetApplyAdvanced","pos":[3810,0],"size":[210,186],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":545},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":693},{"localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":407},{"localized_name":"image","name":"image","type":"IMAGE","link":672},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":507},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":465},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[603]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.50","Node name for S&R":"ControlNetApplyAdvanced","widget_ue_connectable":{}},"widgets_values":[0.5,0,1]},{"id":203,"type":"CLIPTextEncode","pos":[3550,30],"size":[400,200],"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":544},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":549}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[545,693]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.68","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":238,"type":"SuperCreateTiles","pos":[1300,680],"size":[210,126],"flags":{},"order":30,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":644},{"localized_name":"rows","name":"rows","type":"INT","widget":{"name":"rows"},"link":645},{"localized_name":"cols","name":"cols","type":"INT","widget":{"name":"cols"},"link":646},{"localized_name":"overlap","name":"overlap","type":"FLOAT","widget":{"name":"overlap"},"link":647}],"outputs":[{"localized_name":"tiles","name":"tiles","type":"IMAGE","links":[648,649]},{"localized_name":"stitch_info","name":"stitch_info","type":"STITCH_INFO","links":[650]}],"properties":{"aux_id":"sonnybox/ComfyUI-SuperNodes","ver":"76d10cd044e2733a769e7878baf6893b7edf15f4","Node name for S&R":"SuperCreateTiles"},"widgets_values":[2,2,0.1]},{"id":239,"type":"f63ebf34-5247-4ad3-9df0-20ab6cafa51c","pos":[1070,720],"size":[210,138.00006103515625],"flags":{},"order":31,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":642},{"label":"model_res","name":"value","type":"INT","widget":{"name":"value"},"link":639},{"label":"overlap","name":"value_1","type":"FLOAT","link":695}],"outputs":[{"label":"cols","localized_name":"INT","name":"INT","type":"INT","links":[646]},{"label":"rows","localized_name":"INT_1","name":"INT_1","type":"INT","links":[645]},{"label":"num_tiles","localized_name":"INT_2","name":"INT_2","type":"INT","links":[641]}],"properties":{"proxyWidgets":[["-1","value"]],"cnr_id":"comfy-core","ver":"0.3.51"},"widgets_values":[1024]}],"groups":[],"links":[{"id":407,"origin_id":-10,"origin_slot":1,"target_id":59,"target_slot":2,"type":"CONTROL_NET"},{"id":408,"origin_id":-10,"origin_slot":2,"target_id":55,"target_slot":1,"type":"VAE"},{"id":409,"origin_id":-10,"origin_slot":2,"target_id":57,"target_slot":1,"type":"VAE"},{"id":456,"origin_id":-10,"origin_slot":3,"target_id":175,"target_slot":0,"type":"IMAGE"},{"id":465,"origin_id":-10,"origin_slot":6,"target_id":59,"target_slot":5,"type":"FLOAT"},{"id":468,"origin_id":-10,"origin_slot":7,"target_id":175,"target_slot":2,"type":"FLOAT"},{"id":473,"origin_id":-10,"origin_slot":8,"target_id":167,"target_slot":0,"type":"INT"},{"id":498,"origin_id":187,"origin_slot":0,"target_id":186,"target_slot":0,"type":"NOISE"},{"id":507,"origin_id":-10,"origin_slot":2,"target_id":59,"target_slot":4,"type":"VAE"},{"id":510,"origin_id":191,"origin_slot":0,"target_id":186,"target_slot":2,"type":"SAMPLER"},{"id":511,"origin_id":-10,"origin_slot":4,"target_id":191,"target_slot":0,"type":"COMBO"},{"id":512,"origin_id":-10,"origin_slot":5,"target_id":192,"target_slot":1,"type":"COMBO"},{"id":517,"origin_id":193,"origin_slot":1,"target_id":186,"target_slot":3,"type":"SIGMAS"},{"id":518,"origin_id":-10,"origin_slot":10,"target_id":192,"target_slot":2,"type":"INT"},{"id":519,"origin_id":-10,"origin_slot":11,"target_id":193,"target_slot":1,"type":"INT"},{"id":539,"origin_id":-10,"origin_slot":12,"target_id":202,"target_slot":1,"type":"FL2MODEL"},{"id":541,"origin_id":-10,"origin_slot":13,"target_id":202,"target_slot":6,"type":"INT"},{"id":542,"origin_id":-10,"origin_slot":14,"target_id":202,"target_slot":7,"type":"INT"},{"id":543,"origin_id":-10,"origin_slot":15,"target_id":202,"target_slot":10,"type":"INT"},{"id":544,"origin_id":-10,"origin_slot":16,"target_id":203,"target_slot":0,"type":"CLIP"},{"id":545,"origin_id":203,"origin_slot":0,"target_id":59,"target_slot":0,"type":"CONDITIONING"},{"id":547,"origin_id":-10,"origin_slot":17,"target_id":204,"target_slot":2,"type":"BOOLEAN"},{"id":549,"origin_id":204,"origin_slot":0,"target_id":203,"target_slot":1,"type":"STRING"},{"id":550,"origin_id":205,"origin_slot":0,"target_id":204,"target_slot":1,"type":"*"},{"id":551,"origin_id":-10,"origin_slot":18,"target_id":205,"target_slot":0,"type":"STRING"},{"id":554,"origin_id":202,"origin_slot":2,"target_id":207,"target_slot":1,"type":"STRING"},{"id":555,"origin_id":207,"origin_slot":0,"target_id":204,"target_slot":0,"type":"*"},{"id":560,"origin_id":204,"origin_slot":0,"target_id":208,"target_slot":0,"type":"STRING"},{"id":570,"origin_id":205,"origin_slot":0,"target_id":207,"target_slot":0,"type":"STRING"},{"id":572,"origin_id":213,"origin_slot":0,"target_id":202,"target_slot":0,"type":"IMAGE"},{"id":579,"origin_id":-10,"origin_slot":19,"target_id":214,"target_slot":2,"type":"COMBO"},{"id":602,"origin_id":-10,"origin_slot":0,"target_id":223,"target_slot":0,"type":"MODEL"},{"id":603,"origin_id":59,"origin_slot":0,"target_id":223,"target_slot":1,"type":"CONDITIONING"},{"id":604,"origin_id":223,"origin_slot":0,"target_id":186,"target_slot":1,"type":"GUIDER"},{"id":605,"origin_id":-10,"origin_slot":20,"target_id":202,"target_slot":3,"type":"COMBO"},{"id":610,"origin_id":57,"origin_slot":0,"target_id":184,"target_slot":0,"type":"IMAGE"},{"id":612,"origin_id":184,"origin_slot":0,"target_id":226,"target_slot":0,"type":"IMAGE"},{"id":613,"origin_id":226,"origin_slot":0,"target_id":214,"target_slot":1,"type":"IMAGE"},{"id":620,"origin_id":55,"origin_slot":0,"target_id":186,"target_slot":4,"type":"LATENT"},{"id":621,"origin_id":186,"origin_slot":0,"target_id":57,"target_slot":0,"type":"LATENT"},{"id":624,"origin_id":-10,"origin_slot":9,"target_id":171,"target_slot":1,"type":"FLOAT"},{"id":626,"origin_id":192,"origin_slot":0,"target_id":193,"target_slot":0,"type":"SIGMAS"},{"id":627,"origin_id":-10,"origin_slot":0,"target_id":192,"target_slot":0,"type":"MODEL"},{"id":631,"origin_id":237,"origin_slot":0,"target_id":236,"target_slot":2,"type":"FLOAT"},{"id":632,"origin_id":236,"origin_slot":0,"target_id":235,"target_slot":0,"type":"IMAGE"},{"id":633,"origin_id":235,"origin_slot":1,"target_id":232,"target_slot":0,"type":"FLOAT,INT"},{"id":634,"origin_id":235,"origin_slot":0,"target_id":231,"target_slot":0,"type":"FLOAT,INT"},{"id":635,"origin_id":231,"origin_slot":0,"target_id":234,"target_slot":0,"type":"*"},{"id":636,"origin_id":232,"origin_slot":0,"target_id":233,"target_slot":0,"type":"*"},{"id":637,"origin_id":234,"origin_slot":0,"target_id":240,"target_slot":2,"type":"INT"},{"id":638,"origin_id":233,"origin_slot":0,"target_id":240,"target_slot":3,"type":"INT"},{"id":639,"origin_id":167,"origin_slot":0,"target_id":239,"target_slot":1,"type":"INT"},{"id":640,"origin_id":167,"origin_slot":0,"target_id":237,"target_slot":0,"type":"FLOAT,INT"},{"id":641,"origin_id":239,"origin_slot":2,"target_id":184,"target_slot":1,"type":"INT"},{"id":642,"origin_id":175,"origin_slot":0,"target_id":239,"target_slot":0,"type":"IMAGE"},{"id":644,"origin_id":175,"origin_slot":0,"target_id":238,"target_slot":0,"type":"IMAGE"},{"id":645,"origin_id":239,"origin_slot":1,"target_id":238,"target_slot":1,"type":"INT"},{"id":646,"origin_id":239,"origin_slot":0,"target_id":238,"target_slot":2,"type":"INT"},{"id":647,"origin_id":-10,"origin_slot":9,"target_id":238,"target_slot":3,"type":"FLOAT"},{"id":648,"origin_id":238,"origin_slot":0,"target_id":236,"target_slot":0,"type":"IMAGE"},{"id":649,"origin_id":238,"origin_slot":0,"target_id":240,"target_slot":0,"type":"IMAGE"},{"id":650,"origin_id":238,"origin_slot":1,"target_id":226,"target_slot":1,"type":"STITCH_INFO"},{"id":656,"origin_id":175,"origin_slot":0,"target_id":214,"target_slot":0,"type":"IMAGE"},{"id":658,"origin_id":182,"origin_slot":0,"target_id":213,"target_slot":0,"type":"IMAGE"},{"id":659,"origin_id":240,"origin_slot":0,"target_id":182,"target_slot":0,"type":"IMAGE"},{"id":671,"origin_id":182,"origin_slot":0,"target_id":243,"target_slot":0,"type":"IMAGE"},{"id":672,"origin_id":243,"origin_slot":0,"target_id":59,"target_slot":3,"type":"IMAGE"},{"id":673,"origin_id":-10,"origin_slot":21,"target_id":243,"target_slot":1,"type":"INT"},{"id":676,"origin_id":240,"origin_slot":0,"target_id":183,"target_slot":0,"type":"IMAGE"},{"id":677,"origin_id":-10,"origin_slot":21,"target_id":244,"target_slot":0,"type":"*"},{"id":679,"origin_id":244,"origin_slot":0,"target_id":247,"target_slot":0,"type":"INT"},{"id":680,"origin_id":183,"origin_slot":0,"target_id":248,"target_slot":0,"type":"IMAGE"},{"id":681,"origin_id":247,"origin_slot":0,"target_id":248,"target_slot":1,"type":"INT"},{"id":684,"origin_id":234,"origin_slot":0,"target_id":251,"target_slot":2,"type":"INT"},{"id":685,"origin_id":233,"origin_slot":0,"target_id":251,"target_slot":3,"type":"INT"},{"id":689,"origin_id":248,"origin_slot":0,"target_id":253,"target_slot":0,"type":"IMAGE"},{"id":690,"origin_id":253,"origin_slot":0,"target_id":55,"target_slot":0,"type":"IMAGE"},{"id":691,"origin_id":-10,"origin_slot":22,"target_id":253,"target_slot":2,"type":"FLOAT"},{"id":692,"origin_id":214,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"IMAGE"},{"id":693,"origin_id":203,"origin_slot":0,"target_id":59,"target_slot":1,"type":"CONDITIONING"},{"id":695,"origin_id":-10,"origin_slot":9,"target_id":239,"target_slot":2,"type":"FLOAT"}],"extra":{"ue_links":[],"links_added_by_ue":[]}},{"id":"f63ebf34-5247-4ad3-9df0-20ab6cafa51c","version":1,"state":{"lastGroupId":0,"lastNodeId":189,"lastLinkId":454,"lastRerouteId":0},"revision":0,"config":{},"name":"Calculate Tiles","inputNode":{"id":-10,"bounding":[708,1852,120,100]},"outputNode":{"id":-20,"bounding":[2208,1888,120,100]},"inputs":[{"id":"13962776-081e-43c8-8f7e-51b5b558e055","name":"image","type":"IMAGE","linkIds":[315],"localized_name":"image","pos":[808,1872]},{"id":"109e0b68-db47-4e9c-8df3-9ed7e88a71cb","name":"value","type":"INT","linkIds":[412],"label":"model_res","pos":[808,1892]},{"id":"e25c3d1d-ba42-48bb-9a96-5473855b464b","name":"value_1","type":"FLOAT","linkIds":[413,428],"label":"overlap","pos":[808,1912]}],"outputs":[{"id":"c1087054-0884-45dc-913a-83371fe16948","name":"INT","type":"INT","linkIds":[430,366,391],"localized_name":"INT","label":"cols","pos":[2228,1908]},{"id":"c722524a-b035-4c22-8325-15930795bfbd","name":"INT_1","type":"INT","linkIds":[429,365,390],"localized_name":"INT_1","label":"rows","pos":[2228,1928]},{"id":"c35b5a3e-89fa-44c7-b807-8335c40224f8","name":"INT_2","type":"INT","linkIds":[357],"localized_name":"INT_2","label":"num_tiles","pos":[2228,1948]}],"widgets":[],"nodes":[{"id":150,"type":"Basic data handling: MathFormula","pos":[1712,1832],"size":[250,100],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"FLOAT,INT","link":411},{"localized_name":"formula","name":"formula","type":"STRING","widget":{"name":"formula"},"link":null},{"name":"b","shape":7,"type":"FLOAT,INT","link":410},{"name":"c","shape":7,"type":"FLOAT,INT","link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[356]}],"title":"Number of Tiles","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: MathFormula"},"widgets_values":["a*b"]},{"id":151,"type":"Basic data handling: CastToInt","pos":[1992,1760],"size":[168,26],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"input","name":"input","type":"*","link":356}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[357]}],"title":"Number of Tiles","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: CastToInt"},"widgets_values":[]},{"id":121,"type":"GetImageSize","pos":[896,1800],"size":[200,66],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":315}],"outputs":[{"localized_name":"width","name":"width","type":"INT","links":[439,449]},{"localized_name":"height","name":"height","type":"INT","links":[440,450]},{"localized_name":"batch_size","name":"batch_size","type":"INT","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"GetImageSize"},"widgets_values":[]},{"id":154,"type":"INTConstant","pos":[896,1912],"size":[200,58],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":412}],"outputs":[{"localized_name":"value","name":"value","type":"INT","links":[383,441]}],"title":"Model Resolution","properties":{"cnr_id":"comfyui-kjnodes","ver":"2f7300dc546ec2d36fa8b0feebe493d41026524c","Node name for S&R":"INTConstant"},"widgets_values":[1024],"color":"#1b4669","bgcolor":"#29699c"},{"id":132,"type":"FloatConstant","pos":[888,2016],"size":[210,58],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":428}],"outputs":[{"localized_name":"value","name":"value","type":"FLOAT","links":[336,392,442]}],"title":"Overlap","properties":{"cnr_id":"comfyui-kjnodes","ver":"2f7300dc546ec2d36fa8b0feebe493d41026524c","Node name for S&R":"FloatConstant"},"widgets_values":[0.2],"color":"#232","bgcolor":"#353"},{"id":137,"type":"Basic data handling: CastToInt","pos":[1560,1688],"size":[140,26],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"input","name":"input","type":"*","link":454}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[365,390,411,430]}],"title":"Cols","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: CastToInt"},"widgets_values":[]},{"id":136,"type":"Basic data handling: CastToInt","pos":[1544,1984],"size":[140,26],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"input","name":"input","type":"*","link":453}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[366,391,410,429]}],"title":"Rows","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: CastToInt"},"widgets_values":[]},{"id":127,"type":"Basic data handling: MathFormula","pos":[1208,1688],"size":[312,138],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"FLOAT,INT","link":439},{"localized_name":"formula","name":"formula","type":"STRING","widget":{"name":"formula"},"link":null},{"name":"b","shape":7,"type":"FLOAT,INT","link":440},{"name":"c","shape":7,"type":"FLOAT,INT","link":441},{"name":"d","shape":7,"type":"FLOAT,INT","link":442},{"name":"e","shape":7,"type":"FLOAT,INT","link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[451,454]}],"title":"Cols","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: MathFormula"},"widgets_values":["max(1,round(sqrt((a/b) * ((a*b) / ((c * (1-d))**2)))))"]},{"id":187,"type":"Basic data handling: MathFormula","pos":[1208,1880],"size":[312,138],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"FLOAT,INT","link":449},{"localized_name":"formula","name":"formula","type":"STRING","widget":{"name":"formula"},"link":null},{"name":"b","shape":7,"type":"FLOAT,INT","link":450},{"name":"c","shape":7,"type":"FLOAT,INT","link":451},{"name":"d","shape":7,"type":"FLOAT,INT","link":null},{"name":"e","shape":7,"type":"FLOAT,INT","link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[453]}],"title":"Rows","properties":{"cnr_id":"basic_data_handling","ver":"0.5.0","Node name for S&R":"Basic data handling: MathFormula"},"widgets_values":["max(1,round(c/(a/b)))"]}],"groups":[],"links":[{"id":411,"origin_id":137,"origin_slot":0,"target_id":150,"target_slot":0,"type":"FLOAT,INT"},{"id":410,"origin_id":136,"origin_slot":0,"target_id":150,"target_slot":2,"type":"FLOAT,INT"},{"id":356,"origin_id":150,"origin_slot":0,"target_id":151,"target_slot":0,"type":"*"},{"id":315,"origin_id":-10,"origin_slot":0,"target_id":121,"target_slot":0,"type":"IMAGE"},{"id":366,"origin_id":136,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"INT"},{"id":391,"origin_id":136,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"INT"},{"id":365,"origin_id":137,"origin_slot":0,"target_id":-20,"target_slot":1,"type":"INT"},{"id":390,"origin_id":137,"origin_slot":0,"target_id":-20,"target_slot":1,"type":"INT"},{"id":357,"origin_id":151,"origin_slot":0,"target_id":-20,"target_slot":2,"type":"INT"},{"id":412,"origin_id":-10,"origin_slot":1,"target_id":154,"target_slot":0,"type":"INT"},{"id":428,"origin_id":-10,"origin_slot":2,"target_id":132,"target_slot":0,"type":"FLOAT"},{"id":429,"origin_id":136,"origin_slot":0,"target_id":-20,"target_slot":1,"type":"INT"},{"id":430,"origin_id":137,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"INT"},{"id":439,"origin_id":121,"origin_slot":0,"target_id":127,"target_slot":0,"type":"FLOAT,INT"},{"id":440,"origin_id":121,"origin_slot":1,"target_id":127,"target_slot":2,"type":"FLOAT,INT"},{"id":441,"origin_id":154,"origin_slot":0,"target_id":127,"target_slot":3,"type":"FLOAT,INT"},{"id":442,"origin_id":132,"origin_slot":0,"target_id":127,"target_slot":4,"type":"FLOAT,INT"},{"id":449,"origin_id":121,"origin_slot":0,"target_id":187,"target_slot":0,"type":"FLOAT,INT"},{"id":450,"origin_id":121,"origin_slot":1,"target_id":187,"target_slot":2,"type":"FLOAT,INT"},{"id":451,"origin_id":127,"origin_slot":0,"target_id":187,"target_slot":3,"type":"FLOAT,INT"},{"id":453,"origin_id":187,"origin_slot":0,"target_id":136,"target_slot":0,"type":"*"},{"id":454,"origin_id":127,"origin_slot":0,"target_id":137,"target_slot":0,"type":"*"}],"extra":{"ue_links":[],"links_added_by_ue":[]}}]},"config":{},"extra":{"ds":{"scale":1.0152559799477054,"offset":[321.4740749403015,119.17121603223731]}},"version":0.4}